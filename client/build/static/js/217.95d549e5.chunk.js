"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[217],{8217:function(t,n,e){e.r(n),e.d(n,{default:function(){return B}});var o=e(4165),i=e(5861),a=e(9439),c=e(2791),r=e(7027),s=e(4951),l=e(9389),p=e(7309),m=e(4942),d=e(1694),u=e.n(d),f=e(1818);function g(t,n,e){var o=(e||{}).atBegin;return function(t,n,e){var o,i=e||{},a=i.noTrailing,c=void 0!==a&&a,r=i.noLeading,s=void 0!==r&&r,l=i.debounceMode,p=void 0===l?void 0:l,m=!1,d=0;function u(){o&&clearTimeout(o)}function f(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];var r=this,l=Date.now()-d;function f(){d=Date.now(),n.apply(r,i)}function g(){o=void 0}m||(s||!p||o||f(),u(),void 0===p&&l>t?s?(d=Date.now(),c||(o=setTimeout(p?g:f,t))):f():!0!==c&&(o=setTimeout(p?g:f,void 0===p?t-l:t)))}return f.cancel=function(t){var n=(t||{}).upcomingOnly,e=void 0!==n&&n;u(),m=!e},f}(t,n,{debounceMode:!1!==(void 0!==o&&o)})}var h=e(1113),v=e(1929),S=e(3550),y=e(5564),x=e(9922),b=e(7521),C=new S.E4("antSpinMove",{to:{opacity:1}}),Z=new S.E4("antRotate",{to:{transform:"rotate(405deg)"}}),D=function(t){var n,e,o,i,a;return(0,m.Z)({},"".concat(t.componentCls),Object.assign(Object.assign({},(0,b.Wf)(t)),(a={position:"absolute",display:"none",color:t.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:"transform ".concat(t.motionDurationSlow," ").concat(t.motionEaseInOutCirc),"&-spinning":{position:"static",display:"inline-block",opacity:1},"&-nested-loading":(i={position:"relative"},(0,m.Z)(i,"> div > ".concat(t.componentCls),(o={position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:t.contentHeight},(0,m.Z)(o,"".concat(t.componentCls,"-dot"),{position:"absolute",top:"50%",insetInlineStart:"50%",margin:-t.spinDotSize/2}),(0,m.Z)(o,"".concat(t.componentCls,"-text"),{position:"absolute",top:"50%",width:"100%",paddingTop:(t.spinDotSize-t.fontSize)/2+2,textShadow:"0 1px 2px ".concat(t.colorBgContainer),fontSize:t.fontSize}),(0,m.Z)(o,"&".concat(t.componentCls,"-show-text ").concat(t.componentCls,"-dot"),{marginTop:-t.spinDotSize/2-10}),(0,m.Z)(o,"&-sm",(n={},(0,m.Z)(n,"".concat(t.componentCls,"-dot"),{margin:-t.spinDotSizeSM/2}),(0,m.Z)(n,"".concat(t.componentCls,"-text"),{paddingTop:(t.spinDotSizeSM-t.fontSize)/2+2}),(0,m.Z)(n,"&".concat(t.componentCls,"-show-text ").concat(t.componentCls,"-dot"),{marginTop:-t.spinDotSizeSM/2-10}),n)),(0,m.Z)(o,"&-lg",(e={},(0,m.Z)(e,"".concat(t.componentCls,"-dot"),{margin:-t.spinDotSizeLG/2}),(0,m.Z)(e,"".concat(t.componentCls,"-text"),{paddingTop:(t.spinDotSizeLG-t.fontSize)/2+2}),(0,m.Z)(e,"&".concat(t.componentCls,"-show-text ").concat(t.componentCls,"-dot"),{marginTop:-t.spinDotSizeLG/2-10}),e)),o)),(0,m.Z)(i,"".concat(t.componentCls,"-container"),{position:"relative",transition:"opacity ".concat(t.motionDurationSlow),"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:t.colorBgContainer,opacity:0,transition:"all ".concat(t.motionDurationSlow),content:'""',pointerEvents:"none"}}),(0,m.Z)(i,"".concat(t.componentCls,"-blur"),(0,m.Z)({clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none"},"&::after",{opacity:.4,pointerEvents:"auto"})),i)},(0,m.Z)(a,"&-tip",{color:t.spinDotDefault}),(0,m.Z)(a,"".concat(t.componentCls,"-dot"),{position:"relative",display:"inline-block",fontSize:t.spinDotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:(t.spinDotSize-t.marginXXS/2)/2,height:(t.spinDotSize-t.marginXXS/2)/2,backgroundColor:t.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:C,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:Z,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}}),(0,m.Z)(a,"&-sm ".concat(t.componentCls,"-dot"),{fontSize:t.spinDotSizeSM,i:{width:(t.spinDotSizeSM-t.marginXXS/2)/2,height:(t.spinDotSizeSM-t.marginXXS/2)/2}}),(0,m.Z)(a,"&-lg ".concat(t.componentCls,"-dot"),{fontSize:t.spinDotSizeLG,i:{width:(t.spinDotSizeLG-t.marginXXS)/2,height:(t.spinDotSizeLG-t.marginXXS)/2}}),(0,m.Z)(a,"&".concat(t.componentCls,"-show-text ").concat(t.componentCls,"-text"),{display:"block"}),a)))},w=(0,y.Z)("Spin",(function(t){var n=(0,x.TS)(t,{spinDotDefault:t.colorTextDescription,spinDotSize:t.controlHeightLG/2,spinDotSizeSM:.35*t.controlHeightLG,spinDotSizeLG:t.controlHeight});return[D(n)]}),{contentHeight:400}),z=function(t,n){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(e[o]=t[o]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(t);i<o.length;i++)n.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(e[o[i]]=t[o[i]])}return e},k=null;var E=function(t){var n,e=t.spinPrefixCls,o=t.spinning,i=void 0===o||o,r=t.delay,s=void 0===r?0:r,l=t.className,p=t.rootClassName,d=t.size,S=void 0===d?"default":d,y=t.tip,x=t.wrapperClassName,b=t.style,C=t.children,Z=t.hashId,D=z(t,["spinPrefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","hashId"]),w=c.useState((function(){return i&&!function(t,n){return!!t&&!!n&&!isNaN(Number(n))}(i,s)})),E=(0,a.Z)(w,2),N=E[0],I=E[1];c.useEffect((function(){if(i){var t=g(s,(function(){I(!0)}));return t(),function(){var n;null===(n=null===t||void 0===t?void 0:t.cancel)||void 0===n||n.call(t)}}I(!1)}),[s,i]);var j=c.useMemo((function(){return"undefined"!==typeof C}),[C]);var T=c.useContext(v.E_).direction,O=u()(e,(n={},(0,m.Z)(n,"".concat(e,"-sm"),"small"===S),(0,m.Z)(n,"".concat(e,"-lg"),"large"===S),(0,m.Z)(n,"".concat(e,"-spinning"),N),(0,m.Z)(n,"".concat(e,"-show-text"),!!y),(0,m.Z)(n,"".concat(e,"-rtl"),"rtl"===T),n),l,p,Z),P=u()("".concat(e,"-container"),(0,m.Z)({},"".concat(e,"-blur"),N)),X=(0,f.Z)(D,["indicator","prefixCls"]),L=c.createElement("div",Object.assign({},X,{style:b,className:O,"aria-live":"polite","aria-busy":N}),function(t,n){var e=n.indicator,o="".concat(t,"-dot");return null===e?null:(0,h.l$)(e)?(0,h.Tm)(e,{className:u()(e.props.className,o)}):(0,h.l$)(k)?(0,h.Tm)(k,{className:u()(k.props.className,o)}):c.createElement("span",{className:u()(o,"".concat(t,"-dot-spin"))},c.createElement("i",{className:"".concat(t,"-dot-item"),key:1}),c.createElement("i",{className:"".concat(t,"-dot-item"),key:2}),c.createElement("i",{className:"".concat(t,"-dot-item"),key:3}),c.createElement("i",{className:"".concat(t,"-dot-item"),key:4}))}(e,t),y&&j?c.createElement("div",{className:"".concat(e,"-text")},y):null);return j?c.createElement("div",Object.assign({},X,{className:u()("".concat(e,"-nested-loading"),x,Z)}),N&&c.createElement("div",{key:"loading"},L),c.createElement("div",{className:P,key:"container"},C)):L},N=function(t){var n=t.prefixCls,e=(0,c.useContext(v.E_).getPrefixCls)("spin",n),o=w(e),i=(0,a.Z)(o,2),r=i[0],s=i[1],l=Object.assign(Object.assign({},t),{spinPrefixCls:e,hashId:s});return r(c.createElement(E,Object.assign({},l)))};N.setDefaultIndicator=function(t){k=t};var I=N,j=e(9529),T=e(8999),O=e(5348),P=e(8721),X=e(7689),L=e(9434),M=e(4088),G=e(5785),H=e(184),B=function(){var t=(0,X.s0)(),n=(0,c.useState)(""),e=(0,a.Z)(n,2),m=e[0],d=e[1],u=(0,c.useState)(""),f=(0,a.Z)(u,2),g=f[0],h=f[1],v=(0,c.useState)(!1),S=(0,a.Z)(v,2),y=S[0],x=S[1],b=(0,L.I0)(),C=function(n){n.data.role,t("/home")},Z=function(){var t=(0,i.Z)((0,o.Z)().mark((function t(){var n,e,i,a;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m&&g){t.next=3;break}return r.ZP.error("Please enter email and password"),t.abrupt("return");case 3:return x(!0),t.prev=4,t.next=7,(0,P.e5)(O.I,m,g);case 7:return n=t.sent,e=n.user,t.next=11,e.getIdTokenResult();case 11:i=t.sent,a=i.token,console.log("token: "+a),(0,G.XB)(a).then((function(t){b((0,M.RZ)({email:t.data.email,idtoken:a,name:t.data.name,role:t.data.role,_id:t.data._id})),C(t)})).catch((function(t){return console.log(t)})),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(4),r.ZP.error(t.t0.message);case 20:x(!1);case 21:case"end":return t.stop()}}),t,null,[[4,17]])})));return function(){return t.apply(this,arguments)}}();return(0,H.jsx)("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2em",backgroundColor:"whitesmoke",position:"relative"},children:(0,H.jsxs)("div",{style:{width:"100%",maxWidth:"600px",padding:"2em",backgroundColor:"#FAFAD2",borderRadius:"8px",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.3)",minHeight:"400px"},children:[(0,H.jsx)(s.Z.Title,{level:4,style:{marginBottom:"2em",textAlign:"center"},children:"Login"}),(0,H.jsxs)("form",{onSubmit:function(t){t.preventDefault(),Z()},style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,H.jsx)(l.Z,{prefix:(0,H.jsx)(j.Z,{}),placeholder:"Enter email",value:m,type:"email",onChange:function(t){return d(t.target.value)},style:{marginBottom:"1em"}}),(0,H.jsx)(l.Z.Password,{prefix:(0,H.jsx)(T.Z,{}),placeholder:"Enter your password",value:g,onChange:function(t){return h(t.target.value)},style:{marginBottom:"1em"}}),(0,H.jsx)(p.ZP,{type:"primary",htmlType:"submit",disabled:!m||!g,style:{width:"100%",textTransform:"none"},children:y?(0,H.jsx)(I,{}):"Login"})]})]})})}}}]);
//# sourceMappingURL=217.95d549e5.chunk.js.map