"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[615],{231:function(e,n,r){r.d(n,{CP:function(){return a},Gu:function(){return d},k4:function(){return l},n3:function(){return i},sT:function(){return s},yr:function(){return u}});var t=r(4165),c=r(5861),o=r(1243),a=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("".concat("https://ecommerce-mern-5e1j.onrender.com/api","/categories"),{headers:{}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("".concat("https://ecommerce-mern-5e1j.onrender.com/api","/category/").concat(n),{headers:{}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),s=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.delete("".concat("https://ecommerce-mern-5e1j.onrender.com/api","/category/").concat(n),{headers:{authtoken:r}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),u=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n,r,c){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.put("".concat("https://ecommerce-mern-5e1j.onrender.com/api","/category/").concat(n),r,{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,r,t){return e.apply(this,arguments)}}(),l=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.post("".concat("https://ecommerce-mern-5e1j.onrender.com/api","/category"),n,{headers:{authtoken:r}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),d=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("".concat("https://ecommerce-mern-5e1j.onrender.com/api","/category/subs/").concat(n),{headers:{}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},2887:function(e,n,r){r.d(n,{Ej:function(){return h},Xp:function(){return d},Y2:function(){return p},cE:function(){return m},kh:function(){return s},nM:function(){return l},ry:function(){return a},su:function(){return i},w$:function(){return f},wv:function(){return u}});var t=r(4165),c=r(5861),o=r(1243),a=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.post("".concat("https://ecommerce-mern-5e1j.onrender.com/api","/product"),n,{headers:{authtoken:r}});case 2:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),i=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("".concat("https://ecommerce-mern-5e1j.onrender.com/api","/products/").concat(n),{headers:{}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),s=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.delete("".concat("https://ecommerce-mern-5e1j.onrender.com/api","/product/").concat(n),{headers:{authtoken:r}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),u=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("".concat("https://ecommerce-mern-5e1j.onrender.com/api","/product/").concat(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n,r,c){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.put("".concat("https://ecommerce-mern-5e1j.onrender.com/api","/product/").concat(n),r,{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,r,t){return e.apply(this,arguments)}}(),d=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n,r,c){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.post("https://ecommerce-mern-5e1j.onrender.com/api/products",{sort:n,order:r,page:c});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,r,t){return e.apply(this,arguments)}}(),p=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.post("".concat("https://ecommerce-mern-5e1j.onrender.com/api","/products/total"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n,r,c){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.put("".concat("https://ecommerce-mern-5e1j.onrender.com/api","/product/star/").concat(n),{star:r},{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,r,t){return e.apply(this,arguments)}}(),m=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("".concat("https://ecommerce-mern-5e1j.onrender.com/api","/product/related/").concat(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.post("".concat("https://ecommerce-mern-5e1j.onrender.com/api","/search/filters"),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},2066:function(e,n,r){var t=r(1413),c=(r(2791),r(5518)),o=r(6776),a=r(3466),i=r.n(a),s=r(1243),u=r(9434),l=r(184),d=c.Z.Dragger;n.Z=function(e){var n=e.onFileUpload,r=e.setLoading,c=e.setValues,a=e.values,p=(0,u.v9)((function(e){return e.user.userid})),h=[];return(0,l.jsx)("div",{children:(0,l.jsxs)(d,{multiple:!0,accept:"images/*",onChange:function(e){var o=e.fileList.map((function(e){return e.originFileObj}));if(n(o),o){r(!0);for(var u=[],l=0;l<o.length;l++)i().imageFileResizer(o[l],720,720,"JPEG",100,0,(function(e){u.push(e),u.length===o.length&&(r(!1),n(u),u.forEach((function(e){s.Z.post("".concat("https://ecommerce-mern-5e1j.onrender.com/api","/uploadimages"),{image:e},{headers:{authtoken:p?p.idtoken:""}}).then((function(e){console.log("image upload response data",e),h.push(e.data),console.log("allimsges...",h),c((0,t.Z)((0,t.Z)({},a),{},{images:h}))})).catch((function(e){console.log(e)}))})))}))}},children:[(0,l.jsx)("p",{className:"ant-upload-drag-icon",children:(0,l.jsx)(o.Z,{})}),(0,l.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"})]})})}},6960:function(e,n,r){var t=r(9439),c=r(2791),o=r(7689),a=r(1087),i=r(3388),s=r(713),u=r(8134),l=r(7226),d=r(4543),p=r(8961),h=r(897),m=r(9529),f=r(184);n.Z=function(){var e=(0,o.TH)(),n=(0,c.useState)([]),r=(0,t.Z)(n,2),x=r[0],Z=r[1];return(0,c.useEffect)((function(){var n=e.pathname;Z([n])}),[e]),(0,f.jsx)("div",{style:{height:"100vh",display:"flex",flexDirection:"column",position:"",justifyContent:"space-between"},children:(0,f.jsxs)(i.Z,{theme:"dark",mode:"vertical",selectedKeys:x,style:{flexGrow:1,border:"none",backgroundColor:"#000000"},children:[(0,f.jsx)(i.Z.Item,{icon:(0,f.jsx)(s.Z,{style:{color:"#1890ff",fontSize:"30px",marginLeft:"1em"}}),style:{flexGrow:1}}),(0,f.jsx)(i.Z.Item,{icon:(0,f.jsx)(u.Z,{}),style:{flexGrow:1},children:(0,f.jsx)(a.rU,{to:"/admin/dashboard",children:"Dashboard"})},"/admin/dashboard"),(0,f.jsx)(i.Z.Item,{icon:(0,f.jsx)(l.Z,{}),style:{flexGrow:1},children:(0,f.jsx)(a.rU,{to:"/admin/product",children:"product"})},"/admin/product"),(0,f.jsx)(i.Z.Item,{icon:(0,f.jsx)(d.Z,{}),style:{flexGrow:1},children:(0,f.jsx)(a.rU,{to:"/admin/products",children:"products"})},"/admin/products"),(0,f.jsx)(i.Z.Item,{icon:(0,f.jsx)(p.Z,{}),style:{flexGrow:1},children:(0,f.jsx)(a.rU,{to:"/admin/category",children:"category"})},"/admin/category"),(0,f.jsx)(i.Z.Item,{icon:(0,f.jsx)(p.Z,{}),style:{flexGrow:1},children:(0,f.jsx)(a.rU,{to:"/admin/sub",children:"Sub-category"})},"/admin/sub"),(0,f.jsx)(i.Z.Item,{icon:(0,f.jsx)(h.Z,{style:{color:"#52c41a"}}),style:{flexGrow:1},children:(0,f.jsx)(a.rU,{to:"/admin/coupon",children:"coupon"})},"/admin/coupon"),(0,f.jsx)(i.Z.Item,{icon:(0,f.jsx)(m.Z,{}),style:{flexGrow:1},children:(0,f.jsx)(a.rU,{to:"/admin/password",children:"password"})},"/admin/password")]})})}},1615:function(e,n,r){r.r(n);var t=r(4942),c=r(1413),o=r(9439),a=r(2791),i=r(6960),s=r(7876),u=r(7027),l=r(9389),d=r(7309),p=(r(4088),r(231)),h=r(9434),m=r(2066),f=r(2887),x=r(7689),Z=r(184),g=s.Z.Option;n.default=function(){var e=(0,x.UO)().slug,n=(0,h.v9)((function(e){return e.user.userid})),r=(0,a.useState)(!1),j=(0,o.Z)(r,2),v=j[0],y=j[1],b=(0,a.useState)([]),w=(0,o.Z)(b,2),k=w[0],S=w[1];(0,a.useEffect)((function(){(0,p.CP)().then((function(e){return L((0,c.Z)((0,c.Z)({},T),{},{categories:e.data}))})),(0,f.wv)(e).then((function(e){L((function(n){return(0,c.Z)((0,c.Z)({},n),e.data)}));var n=[];e.data.subs.map((function(e){n.push(e.name)})),S(n)})).catch((function(e){console.error(e)}))}),[]);var C=(0,a.useState)([]),B=(0,o.Z)(C,2),F=B[0],G=B[1],U=(0,a.useState)(!1),I=(0,o.Z)(U,2),P=I[0],q=I[1],E=(0,a.useState)({title:"",description:"",price:"",categories:[],category:"",subs:[],shipping:"",quantity:"",images:[],colors:["Black","Brown","Silver","White","Blue"],brands:["Apple","Samsung","Microsoft","ASUS","Lenovo"],color:"",brand:""}),D=(0,o.Z)(E,2),T=D[0],L=D[1],N=T.title,z=T.description,O=T.price,Y=(T.category,T.quantity),_=T.colors,A=T.brands,M=(T.images,T.categories),V=T.subs,J=function(e){var n=e.target,r=n.name,o=n.value;L((0,c.Z)((0,c.Z)({},T),{},(0,t.Z)({},r,o)))},Q=function(e,n){L((function(r){return(0,c.Z)((0,c.Z)({},r),{},(0,t.Z)({},e,n))}))};return console.log("subs",V),(0,Z.jsxs)("div",{style:{display:"flex",height:"90vh",overflowY:"auto"},children:[(0,Z.jsx)("div",{style:{position:"sticky",top:0,zIndex:1},children:(0,Z.jsx)(i.Z,{})}),JSON.stringify(T.shipping),(0,Z.jsxs)("div",{style:{flex:1,padding:"2rem"},children:[v?(0,Z.jsx)("h2",{style:{marginBottom:"2rem"},children:"loading..."}):(0,Z.jsx)("h2",{style:{marginBottom:"2rem"},children:"Product Update"}),(0,Z.jsxs)("form",{onSubmit:function(r){r.preventDefault(),y(!0),(0,f.nM)(e,T,n.idtoken).then((function(e){u.ZP.success("Product updated"),y(!1)})).catch((function(e){y(!1),u.ZP.error("Failed ".concat(e.response.data.err))}))},children:[(0,Z.jsxs)("div",{children:[(0,Z.jsx)("label",{htmlFor:"title",children:"Title:"}),(0,Z.jsx)(l.Z,{type:"text",id:"title",placeholder:"Title",name:"title",value:N,required:!0,onChange:J,style:{marginBottom:"1.5rem"}})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("label",{htmlFor:"description",children:"Description:"}),(0,Z.jsx)(l.Z.TextArea,{id:"description",placeholder:"Description",name:"description",value:z,required:!0,onChange:J,style:{marginBottom:"1.5rem"}})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("label",{htmlFor:"price",children:"Price:"}),(0,Z.jsx)(l.Z,{type:"number",id:"price",placeholder:"Price",name:"price",value:O,onChange:J,required:!0,style:{marginBottom:"1.5rem"}})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("label",{htmlFor:"shipping",children:"Shipping:"}),(0,Z.jsxs)(s.Z,{placeholder:"Select shipping",id:"shipping",name:"shipping",style:{marginBottom:"1.5rem",width:"100%"},value:T.shipping,onChange:function(e){return Q("shipping",e)},children:[(0,Z.jsx)(g,{value:"No",children:"No"}),(0,Z.jsx)(g,{value:"Yes",children:"Yes"})]})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("label",{htmlFor:"quantity",children:"Quantity:"}),(0,Z.jsx)(l.Z,{type:"number",id:"quantity",placeholder:"Quantity",name:"quantity",required:!0,value:Y,onChange:J,style:{marginBottom:"1.5rem"}})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("label",{htmlFor:"color",children:"Color:"}),(0,Z.jsx)(s.Z,{placeholder:"Select color",id:"color",name:"color",style:{marginBottom:"1.5rem",width:"100%"},value:T.color,onChange:function(e){return Q("color",e)},dropdownStyle:{color:"#000000"},children:_.map((function(e){return(0,Z.jsx)(g,{value:e,children:e},e)}))})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("label",{htmlFor:"brand",children:"Brand:"}),(0,Z.jsx)(s.Z,{placeholder:"Select brand",id:"brand",name:"brand",style:{marginBottom:"1.5rem",width:"100%"},value:T.brand,onChange:function(e){return Q("brand",e)},dropdownStyle:{color:"#000000"},children:A.map((function(e){return(0,Z.jsx)(g,{value:e,children:e},e)}))})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("label",{htmlFor:"category",children:"Category:"}),(0,Z.jsx)(s.Z,{style:{marginBottom:"1.5rem",width:"100%"},placeholder:"Select category",id:"category",value:T.category.name,onChange:function(e){return function(e){L((function(n){return(0,c.Z)((0,c.Z)({},n),{},{category:e,subs:[]})})),(0,p.Gu)(e).then((function(e){G(e.data),q(e.data.length>0)})).catch((function(e){console.error("Error fetching subcategories:",e)}))}(e)},dropdownStyle:{color:"#000000"},children:M.map((function(e){return(0,Z.jsx)(g,{value:e._id,children:e.name},e._id)}))})]}),P&&(0,Z.jsxs)("div",{children:[(0,Z.jsx)("label",{htmlFor:"subcategory",children:"Sub-category:"}),(0,Z.jsx)(s.Z,{style:{marginBottom:"1.5rem",width:"100%"},placeholder:"Select sub-category",mode:"multiple",id:"subcategory",defaultValue:k,value:V,onChange:function(e){return L((0,c.Z)((0,c.Z)({},T),{},{subs:e}))},dropdownStyle:{color:"#000000"},children:F.map((function(e){return(0,Z.jsx)(g,{value:e._id,children:e.name},e._id)}))})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("label",{htmlFor:"images",children:"Images:"}),(0,Z.jsx)(m.Z,{setLoading:y,onFileUpload:function(e){L((function(n){return(0,c.Z)((0,c.Z)({},n),{},{images:e})}))},setValues:L,values:T})]}),(0,Z.jsx)("div",{style:{position:"sticky",bottom:0,zIndex:1},children:(0,Z.jsx)(d.ZP,{type:"primary",htmlType:"submit",style:{width:"100%"},children:"update & save"})})]})]})]})}}}]);
//# sourceMappingURL=615.3d756eff.chunk.js.map