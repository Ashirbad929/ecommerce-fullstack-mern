"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[182],{3347:function(t,e,n){n.d(e,{Gt:function(){return f},PU:function(){return o},cy:function(){return s},kL:function(){return a},m$:function(){return i}});var r=n(4165),c=n(5861),u=n(1243),a=function(){var t=(0,c.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat("https://ecommerce-mern-5e1j.onrender.com/api","/subs"),{headers:{}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(){var t=(0,c.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat("https://ecommerce-mern-5e1j.onrender.com/api","/sub/").concat(e),{headers:{}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=(0,c.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.delete("".concat("https://ecommerce-mern-5e1j.onrender.com/api","/sub/").concat(e),{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),i=function(){var t=(0,c.Z)((0,r.Z)().mark((function t(e,n,c){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.put("".concat("https://ecommerce-mern-5e1j.onrender.com/api","/sub/").concat(e),n,{headers:{authtoken:c}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),f=function(){var t=(0,c.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.post("".concat("https://ecommerce-mern-5e1j.onrender.com/api","/sub"),e,{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},4967:function(t,e,n){n.d(e,{Z:function(){return w}});var r=n(9439),c=n(1413),u=n(2791),a=n(6473),s=n(4951),o=n(7027),i=n(183),f=n(4215),p=n(6533),d=n(7689),l=n(1087),h=n(763),m=n.n(h),Z=n(6137),x=n(9434),g=n(3936),v=n(184),j=a.Z.Meta,b=s.Z.Text,w=function(t){var e=t.product,n=t.loading,s=(0,x.I0)(),h=((0,d.s0)(),e.title),w=e.description,k=e.images,y=e.slug,S=e.price,N=k&&k.length?k[0][0].url:"",I=(0,u.useState)(!0),P=(0,r.Z)(I,2),q=P[0],C=P[1];return(0,u.useEffect)((function(){var t=setTimeout((function(){C(!1)}),800);return function(){return clearTimeout(t)}}),[n]),(0,v.jsxs)(a.Z,{hoverable:!0,loading:n||q,cover:n||q?(0,v.jsx)(i.Z.Image,{style:{width:"100%",height:"auto",paddingBottom:"60%"}}):(0,v.jsx)("img",{src:N,alt:h}),actions:[(0,v.jsxs)(l.rU,{to:"/product/".concat(y),children:[(0,v.jsx)(f.Z,{})," ",(0,v.jsx)("br",{})," view"]}),(0,v.jsxs)("a",{onClick:function(){var t=[];if("undefined"!==typeof window){localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.push((0,c.Z)((0,c.Z)({},e),{},{count:1}));var n=m().uniqWith(t,m().isEqual);console.log("unique",n),localStorage.setItem("cart",JSON.stringify(n)),s((0,Z.P)(t)),s((0,g.F)(!0))}o.ZP.info("Added to cart")},children:[(0,v.jsx)(p.Z,{})," ",(0,v.jsx)("br",{}),"Add to cart"]})],className:"product-card",children:[(0,v.jsx)(j,{title:h,description:"".concat(w&&w.substring(0,35),"...")}),(0,v.jsx)(j,{title:(0,v.jsxs)(b,{style:{color:"#008080"},children:["\u20b9",S]})})]})}},3182:function(t,e,n){n.r(e);var r=n(9439),c=n(2791),u=n(7689),a=n(3347),s=n(7027),o=(n(5306),n(4967)),i=n(184);e.default=function(){var t=(0,c.useState)({}),e=(0,r.Z)(t,2),n=e[0],f=e[1],p=(0,c.useState)([]),d=(0,r.Z)(p,2),l=d[0],h=d[1],m=(0,c.useState)(!1),Z=(0,r.Z)(m,2),x=Z[0],g=Z[1],v=(0,u.UO)().slug;return(0,c.useEffect)((function(){g(!0),(0,a.cy)(v).then((function(t){f(t.data.sub),h(t.data.products),g(!1)})).catch((function(t){s.ZP.error("backend error")}))}),[]),(0,i.jsxs)("div",{className:"category-items",children:[x?(0,i.jsx)("h4",{children:"loading..."}):(0,i.jsxs)("h4",{className:"category-items-header",children:[" fetched ",l.length,'  items from  "',n.name,'" sub category']}),(0,i.jsx)("div",{className:"products",children:l.map((function(t){return(0,i.jsx)(o.Z,{product:t},t._id)}))})]})}},5306:function(){}}]);
//# sourceMappingURL=182.42be5246.chunk.js.map