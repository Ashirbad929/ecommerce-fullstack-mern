"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[770],{2887:function(t,n,r){r.d(n,{Ej:function(){return f},Xp:function(){return p},Y2:function(){return d},cE:function(){return h},kh:function(){return u},nM:function(){return l},ry:function(){return s},su:function(){return o},w$:function(){return x},wv:function(){return i}});var e=r(4165),c=r(5861),a=r(1243),s=function(){var t=(0,c.Z)((0,e.Z)().mark((function t(n,r){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.post("".concat("http://localhost:4000/api","/product"),n,{headers:{authtoken:r}});case 2:case"end":return t.stop()}}),t)})));return function(n,r){return t.apply(this,arguments)}}(),o=function(){var t=(0,c.Z)((0,e.Z)().mark((function t(n){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.get("".concat("http://localhost:4000/api","/products/").concat(n),{headers:{}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),u=function(){var t=(0,c.Z)((0,e.Z)().mark((function t(n,r){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.delete("".concat("http://localhost:4000/api","/product/").concat(n),{headers:{authtoken:r}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n,r){return t.apply(this,arguments)}}(),i=function(){var t=(0,c.Z)((0,e.Z)().mark((function t(n){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.get("".concat("http://localhost:4000/api","/product/").concat(n));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),l=function(){var t=(0,c.Z)((0,e.Z)().mark((function t(n,r,c){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.put("".concat("http://localhost:4000/api","/product/").concat(n),r,{headers:{authtoken:c}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n,r,e){return t.apply(this,arguments)}}(),p=function(){var t=(0,c.Z)((0,e.Z)().mark((function t(n,r,c){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.post("".concat("http://localhost:4000/api","/products"),{sort:n,order:r,page:c});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n,r,e){return t.apply(this,arguments)}}(),d=function(){var t=(0,c.Z)((0,e.Z)().mark((function t(){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.post("".concat("http://localhost:4000/api","/products/total"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=(0,c.Z)((0,e.Z)().mark((function t(n,r,c){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.put("".concat("http://localhost:4000/api","/product/star/").concat(n),{star:r},{headers:{authtoken:c}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n,r,e){return t.apply(this,arguments)}}(),h=function(){var t=(0,c.Z)((0,e.Z)().mark((function t(n){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.get("".concat("http://localhost:4000/api","/product/related/").concat(n));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),x=function(){var t=(0,c.Z)((0,e.Z)().mark((function t(n){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.post("".concat("http://localhost:4000/api","/search/filters"),n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},2531:function(t,n,r){r.d(n,{E9:function(){return s},Ih:function(){return i},NY:function(){return o},WR:function(){return l},sA:function(){return u}});var e=r(4165),c=r(5861),a=r(1243),s=function(){var t=(0,c.Z)((0,e.Z)().mark((function t(n,r){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.post("".concat("http://localhost:4000/api","/user/cart"),{cart:n},{headers:{authtoken:r}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n,r){return t.apply(this,arguments)}}(),o=function(){var t=(0,c.Z)((0,e.Z)().mark((function t(n){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.get("".concat("http://localhost:4000/api","/user/cart"),{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),u=function(){var t=(0,c.Z)((0,e.Z)().mark((function t(n){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.get("".concat("http://localhost:4000/api","/user/wishlist"),{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),i=function(){var t=(0,c.Z)((0,e.Z)().mark((function t(n,r){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.put("".concat("http://localhost:4000/api","/user/wishlist/").concat(r),{},{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n,r){return t.apply(this,arguments)}}(),l=function(){var t=(0,c.Z)((0,e.Z)().mark((function t(n,r){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.post("".concat("http://localhost:4000/api","/user/wishlist"),{productId:r},{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n,r){return t.apply(this,arguments)}}()},4967:function(t,n,r){r.d(n,{Z:function(){return k}});var e=r(9439),c=r(1413),a=r(2791),s=r(6473),o=r(4951),u=r(7027),i=r(183),l=r(4215),p=r(6533),d=r(7689),f=r(1087),h=r(763),x=r.n(h),Z=r(6137),g=r(9434),v=r(3936),m=r(184),j=s.Z.Meta,w=o.Z.Text,k=function(t){var n=t.product,r=t.loading,o=(0,g.I0)(),h=((0,d.s0)(),n.title),k=n.description,y=n.images,b=n.slug,S=n.price,N=y&&y.length?y[0][0].url:"",E=(0,a.useState)(!0),C=(0,e.Z)(E,2),I=C[0],A=C[1];return(0,a.useEffect)((function(){var t=setTimeout((function(){A(!1)}),800);return function(){return clearTimeout(t)}}),[r]),(0,m.jsxs)(s.Z,{hoverable:!0,loading:r||I,cover:r||I?(0,m.jsx)(i.Z.Image,{style:{width:"100%",height:"auto",paddingBottom:"60%"}}):(0,m.jsx)("img",{src:N,alt:h}),actions:[(0,m.jsxs)(f.rU,{to:"/product/".concat(b),children:[(0,m.jsx)(l.Z,{})," ",(0,m.jsx)("br",{})," view"]}),(0,m.jsxs)("a",{onClick:function(){var t=[];if("undefined"!==typeof window){localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.push((0,c.Z)((0,c.Z)({},n),{},{count:1}));var r=x().uniqWith(t,x().isEqual);console.log("unique",r),localStorage.setItem("cart",JSON.stringify(r)),o((0,Z.P)(t)),o((0,v.F)(!0))}u.ZP.info("Added to cart")},children:[(0,m.jsx)(p.Z,{})," ",(0,m.jsx)("br",{}),"Add to cart"]})],className:"product-card",children:[(0,m.jsx)(j,{title:h,description:"".concat(k&&k.substring(0,35),"...")}),(0,m.jsx)(j,{title:(0,m.jsxs)(w,{style:{color:"#008080"},children:["\u20b9",S]})})]})}},152:function(t,n,r){r.r(n),r.d(n,{default:function(){return I}});var e=r(9439),c=r(2791),a=r(2887),s=r(7689),o=r(1413),u=r(6473),i=r(5058),l=r(7027),p=r(7391),d=r(6533),f=r(197),h=(r(8040),r(5778)),x=r(184),Z=function(t){if(t&&t.ratings){var n=t.ratings,r=0,e=n.length;n.forEach((function(t){r+=t.star}));var c=r/e;return c=Math.round(10*c)/10,(0,x.jsxs)("div",{children:[(0,x.jsx)(h.Z,{rating:c,starRatedColor:"#FFD700",starEmptyColor:"#D3D3D3",starDimension:"20px",starSpacing:"2px"}),(0,x.jsxs)("span",{children:["(",e,")"]})]})}},g=r(995),v=r(740),m=(r(4088),r(9434)),j=function(t){var n=t.children,r=((0,s.UO)().slug,(0,s.s0)()),a=(0,m.v9)((function(t){return t.user.userid})),o=(0,c.useState)(!1),u=(0,e.Z)(o,2),i=u[0],p=u[1];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{onClick:function(){a&&a.idtoken?p(!0):r("/login")},children:[(0,x.jsx)(v.Z,{color:"red"}),(0,x.jsx)("br",{}),a?"leave rating":"login to leave rating"]}),(0,x.jsx)(g.Z,{title:"leave rating",centered:!0,open:i,onCancel:function(){p(!1)},onOk:function(){p(!1),l.ZP.success("thanks for review")},children:n})]})},w=r(763),k=r.n(w),y=r(6137),b=r(2531),S=u.Z.Meta,N=i.Z.TabPane,E=function(t){var n=t.product,r=t.onStarclick,e=t.star,c=t.loading,a=(0,m.v9)((function(t){return t.user.userid})),g=(0,s.s0)(),v=(0,m.I0)(),w=n.title,E=n.price,C=n.images,I=n.description,A=n.brand,D=n.color,O=n._id;if(!C||!Array.isArray(C)||0===C.length)return null;return console.log("deqda",a&&a.idtoken),(0,x.jsxs)("div",{className:"view-product",children:[(0,x.jsx)("div",{className:"images-carousel",children:(0,x.jsx)(f.lr,{showArrows:!0,autoPlay:!0,infiniteLoop:!0,children:C.map((function(t,n){return(0,x.jsx)("div",{children:t.map((function(t){return(0,x.jsx)("img",{className:"product-images",src:t.url,alt:w},t.public_id)}))},n)}))})}),(0,x.jsx)("div",{className:"card-details",children:(0,x.jsxs)(u.Z,{loading:c,actions:[(0,x.jsx)("div",{children:(0,x.jsxs)("a",{onClick:function(t){a&&(0,b.WR)(a.idtoken,n._id).then((function(t){l.ZP.success("Added to wishlist"),g("/user/wishlist")}))},children:[(0,x.jsx)(p.Z,{style:{color:"red",fontSize:"1.3rem"},title:"wishlist"}),(0,x.jsx)("br",{}),"Wishlist"]})}),(0,x.jsx)("div",{children:(0,x.jsxs)("a",{onClick:function(){var t=[];if("undefined"!==typeof window){localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.push((0,o.Z)((0,o.Z)({},n),{},{count:1}));var r=k().uniqWith(t,k().isEqual);console.log("unique",r),localStorage.setItem("cart",JSON.stringify(r)),v((0,y.P)(t))}l.ZP.info("Added to cart")},children:[(0,x.jsx)(d.Z,{style:{color:"green",fontSize:"1.3rem"},title:"add to cart"}),(0,x.jsx)("br",{})," add to cart"]})}),(0,x.jsx)(j,{children:(0,x.jsx)(h.Z,{name:O,numberOfStars:5,rating:e,changeRating:r,starRatedColor:"#FFD700",starEmptyColor:"#D3D3D3",starDimension:"20px",starSpacing:"2px"})})],children:[(0,x.jsx)("div",{children:n&&n.ratings&&n.ratings.length>0?Z(n):"(NO RATINGS YET)"}),(0,x.jsx)(S,{title:w}),(0,x.jsxs)("div",{className:"additional-details",children:[(0,x.jsxs)("p",{className:"product-brand",children:["Brand: ",A]}),(0,x.jsxs)("p",{className:"product-color",children:["Color: ",D]}),(0,x.jsxs)("p",{style:{color:"#008080"},className:"product-price",children:["Price: \u20b9",E]}),(0,x.jsxs)(i.Z,{type:"card",children:[(0,x.jsx)(N,{tab:"About",children:I},"1"),(0,x.jsx)(N,{tab:"More",children:"Call us xxxx7xxx"},"2")]})]})]})})]})},C=r(4967),I=function(){var t=(0,c.useState)({}),n=(0,e.Z)(t,2),r=n[0],o=n[1],u=(0,m.v9)((function(t){return t.user.userid})),i=(0,s.UO)().slug,l=(0,c.useState)(!1),p=(0,e.Z)(l,2),d=p[0],f=p[1],h=(0,c.useState)(0),Z=(0,e.Z)(h,2),g=Z[0],v=Z[1],j=(0,c.useState)([]),w=(0,e.Z)(j,2),k=w[0],y=w[1];(0,c.useEffect)((function(){b()}),[i]),(0,c.useEffect)((function(){if(u&&r.ratings&&r.ratings.length>0){var t=r.ratings.find((function(t){return console.log("ele:",t),t.postedBy.toString()===u._id.toString()}));console.log("existingRatingObject:",t),v(t?t.star:0)}}),[r,u]);var b=function(){f(!0),(0,a.wv)(i).then((function(t){o(t.data),f(!1),(0,a.cE)(t.data._id).then((function(t){y(t.data)})).catch((function(t){console.log(console.error)}))}))};return(0,x.jsxs)("div",{className:"view-product-container",children:[(0,x.jsx)("div",{className:"view-product",children:(0,x.jsx)(E,{product:r,onStarclick:function(t,n){v(t),console.log(t,n),(0,a.Ej)(n,t,u.idtoken).then((function(t){console.log("rating clicked",t.data)}))},star:g})}),(0,x.jsx)("hr",{}),(0,x.jsxs)("div",{className:"related-products",children:[(0,x.jsx)("h2",{children:"Related Products"}),(0,x.jsx)("div",{style:{display:"flex",overflowX:"auto",gap:"1rem",marginLeft:"2rem"},children:k.length>0?k.map((function(t){return(0,x.jsx)("div",{style:{display:"grid"},children:(0,x.jsx)(C.Z,{loading:d,product:t})},t._id)})):"No items to show"})]})]})}}}]);
//# sourceMappingURL=770.3448a252.chunk.js.map