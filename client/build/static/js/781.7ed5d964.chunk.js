"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[781],{231:function(t,e,n){n.d(e,{CP:function(){return u},Gu:function(){return f},k4:function(){return p},n3:function(){return o},sT:function(){return s},yr:function(){return i}});var r=n(4165),c=n(5861),a=n(1243),u=function(){var t=(0,c.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.get("".concat("http://localhost:4000/api","/categories"),{headers:{}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=(0,c.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.get("".concat("http://localhost:4000/api","/category/").concat(e),{headers:{}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=(0,c.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.delete("".concat("http://localhost:4000/api","/category/").concat(e),{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),i=function(){var t=(0,c.Z)((0,r.Z)().mark((function t(e,n,c){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.put("".concat("http://localhost:4000/api","/category/").concat(e),n,{headers:{authtoken:c}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),p=function(){var t=(0,c.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.post("".concat("http://localhost:4000/api","/category"),e,{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),f=function(){var t=(0,c.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.get("".concat("http://localhost:4000/api","/category/subs/").concat(e),{headers:{}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},4967:function(t,e,n){n.d(e,{Z:function(){return j}});var r=n(9439),c=n(1413),a=n(2791),u=n(6473),o=n(4951),s=n(7027),i=n(183),p=n(4215),f=n(6533),l=n(7689),h=n(1087),d=n(763),Z=n.n(d),g=n(6137),x=n(9434),m=n(3936),v=n(184),y=u.Z.Meta,w=o.Z.Text,j=function(t){var e=t.product,n=t.loading,o=(0,x.I0)(),d=((0,l.s0)(),e.title),j=e.description,k=e.images,b=e.slug,S=e.price,N=k&&k.length?k[0][0].url:"",I=(0,a.useState)(!0),C=(0,r.Z)(I,2),P=C[0],T=C[1];return(0,a.useEffect)((function(){var t=setTimeout((function(){T(!1)}),800);return function(){return clearTimeout(t)}}),[n]),(0,v.jsxs)(u.Z,{hoverable:!0,loading:n||P,cover:n||P?(0,v.jsx)(i.Z.Image,{style:{width:"100%",height:"auto",paddingBottom:"60%"}}):(0,v.jsx)("img",{src:N,alt:d}),actions:[(0,v.jsxs)(h.rU,{to:"/product/".concat(b),children:[(0,v.jsx)(p.Z,{})," ",(0,v.jsx)("br",{})," view"]}),(0,v.jsxs)("a",{onClick:function(){var t=[];if("undefined"!==typeof window){localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.push((0,c.Z)((0,c.Z)({},e),{},{count:1}));var n=Z().uniqWith(t,Z().isEqual);console.log("unique",n),localStorage.setItem("cart",JSON.stringify(n)),o((0,g.P)(t)),o((0,m.F)(!0))}s.ZP.info("Added to cart")},children:[(0,v.jsx)(f.Z,{})," ",(0,v.jsx)("br",{}),"Add to cart"]})],className:"product-card",children:[(0,v.jsx)(y,{title:d,description:"".concat(j&&j.substring(0,35),"...")}),(0,v.jsx)(y,{title:(0,v.jsxs)(w,{style:{color:"#008080"},children:["\u20b9",S]})})]})}},5781:function(t,e,n){n.r(e);var r=n(9439),c=n(2791),a=n(7689),u=n(231),o=n(7027),s=(n(5306),n(4967)),i=n(184);e.default=function(){var t=(0,c.useState)({}),e=(0,r.Z)(t,2),n=e[0],p=e[1],f=(0,c.useState)([]),l=(0,r.Z)(f,2),h=l[0],d=l[1],Z=(0,c.useState)(!1),g=(0,r.Z)(Z,2),x=g[0],m=g[1],v=(0,a.UO)().slug;return(0,c.useEffect)((function(){m(!0),(0,u.n3)(v).then((function(t){p(t.data.category),d(t.data.products),m(!1)})).catch((function(t){o.ZP.error("backend error")}))}),[]),(0,i.jsxs)("div",{className:"category-items",children:[x?(0,i.jsx)("h4",{children:"loading..."}):(0,i.jsxs)("h4",{className:"category-items-header",children:[" fetched ",h.length,'  items from  "',n.name,'"category']}),(0,i.jsx)("div",{className:"products",children:h.map((function(t){return(0,i.jsx)(s.Z,{product:t},t._id)}))})]})}},5306:function(){}}]);
//# sourceMappingURL=781.7ed5d964.chunk.js.map