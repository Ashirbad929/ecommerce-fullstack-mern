"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[615],{231:function(t,e,n){n.d(e,{CP:function(){return c},Gu:function(){return p},k4:function(){return l},n3:function(){return i},sT:function(){return s},yr:function(){return u}});var r=n(4165),o=n(5861),a=n(1243),c=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.get("".concat("http://localhost:4000/api","/categories"),{headers:{}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.get("".concat("http://localhost:4000/api","/category/").concat(e),{headers:{}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.delete("".concat("http://localhost:4000/api","/category/").concat(e),{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),u=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(e,n,o){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.put("".concat("http://localhost:4000/api","/category/").concat(e),n,{headers:{authtoken:o}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),l=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.post("".concat("http://localhost:4000/api","/category"),e,{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),p=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.get("".concat("http://localhost:4000/api","/category/subs/").concat(e),{headers:{}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},2887:function(t,e,n){n.d(e,{Ej:function(){return h},Xp:function(){return p},Y2:function(){return d},cE:function(){return f},kh:function(){return s},nM:function(){return l},ry:function(){return c},su:function(){return i},w$:function(){return m},wv:function(){return u}});var r=n(4165),o=n(5861),a=n(1243),c=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.post("".concat("http://localhost:4000/api","/product"),e,{headers:{authtoken:n}});case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),i=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.get("".concat("http://localhost:4000/api","/products/").concat(e),{headers:{}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.delete("".concat("http://localhost:4000/api","/product/").concat(e),{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),u=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.get("".concat("http://localhost:4000/api","/product/").concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(e,n,o){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.put("".concat("http://localhost:4000/api","/product/").concat(e),n,{headers:{authtoken:o}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),p=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(e,n,o){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.post("".concat("http://localhost:4000/api","/products"),{sort:e,order:n,page:o});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),d=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.post("".concat("http://localhost:4000/api","/products/total"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(e,n,o){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.put("".concat("http://localhost:4000/api","/product/star/").concat(e),{star:n},{headers:{authtoken:o}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),f=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.get("".concat("http://localhost:4000/api","/product/related/").concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.post("".concat("http://localhost:4000/api","/search/filters"),e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},2066:function(t,e,n){var r=n(1413),o=(n(2791),n(5518)),a=n(6776),c=n(3466),i=n.n(c),s=n(1243),u=n(9434),l=n(184),p=o.Z.Dragger;e.Z=function(t){var e=t.onFileUpload,n=t.setLoading,o=t.setValues,c=t.values,d=(0,u.v9)((function(t){return t.user.userid})),h=[];return(0,l.jsx)("div",{children:(0,l.jsxs)(p,{multiple:!0,accept:"images/*",onChange:function(t){var a=t.fileList.map((function(t){return t.originFileObj}));if(e(a),a){n(!0);for(var u=[],l=0;l<a.length;l++)i().imageFileResizer(a[l],720,720,"JPEG",100,0,(function(t){u.push(t),u.length===a.length&&(n(!1),e(u),u.forEach((function(t){s.Z.post("".concat("http://localhost:4000/api","/uploadimages"),{image:t},{headers:{authtoken:d?d.idtoken:""}}).then((function(t){console.log("image upload response data",t),h.push(t.data),console.log("allimsges...",h),o((0,r.Z)((0,r.Z)({},c),{},{images:h}))})).catch((function(t){console.log(t)}))})))}))}},children:[(0,l.jsx)("p",{className:"ant-upload-drag-icon",children:(0,l.jsx)(a.Z,{})}),(0,l.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"})]})})}},6960:function(t,e,n){var r=n(9439),o=n(2791),a=n(7689),c=n(1087),i=n(3388),s=n(713),u=n(8134),l=n(7226),p=n(4543),d=n(8961),h=n(897),f=n(9529),m=n(184);e.Z=function(){var t=(0,a.TH)(),e=(0,o.useState)([]),n=(0,r.Z)(e,2),x=n[0],Z=n[1];return(0,o.useEffect)((function(){var e=t.pathname;Z([e])}),[t]),(0,m.jsx)("div",{style:{height:"100vh",display:"flex",flexDirection:"column",position:"",justifyContent:"space-between"},children:(0,m.jsxs)(i.Z,{theme:"dark",mode:"vertical",selectedKeys:x,style:{flexGrow:1,border:"none",backgroundColor:"#000000"},children:[(0,m.jsx)(i.Z.Item,{icon:(0,m.jsx)(s.Z,{style:{color:"#1890ff",fontSize:"30px",marginLeft:"1em"}}),style:{flexGrow:1}}),(0,m.jsx)(i.Z.Item,{icon:(0,m.jsx)(u.Z,{}),style:{flexGrow:1},children:(0,m.jsx)(c.rU,{to:"/admin/dashboard",children:"Dashboard"})},"/admin/dashboard"),(0,m.jsx)(i.Z.Item,{icon:(0,m.jsx)(l.Z,{}),style:{flexGrow:1},children:(0,m.jsx)(c.rU,{to:"/admin/product",children:"product"})},"/admin/product"),(0,m.jsx)(i.Z.Item,{icon:(0,m.jsx)(p.Z,{}),style:{flexGrow:1},children:(0,m.jsx)(c.rU,{to:"/admin/products",children:"products"})},"/admin/products"),(0,m.jsx)(i.Z.Item,{icon:(0,m.jsx)(d.Z,{}),style:{flexGrow:1},children:(0,m.jsx)(c.rU,{to:"/admin/category",children:"category"})},"/admin/category"),(0,m.jsx)(i.Z.Item,{icon:(0,m.jsx)(d.Z,{}),style:{flexGrow:1},children:(0,m.jsx)(c.rU,{to:"/admin/sub",children:"Sub-category"})},"/admin/sub"),(0,m.jsx)(i.Z.Item,{icon:(0,m.jsx)(h.Z,{style:{color:"#52c41a"}}),style:{flexGrow:1},children:(0,m.jsx)(c.rU,{to:"/admin/coupon",children:"coupon"})},"/admin/coupon"),(0,m.jsx)(i.Z.Item,{icon:(0,m.jsx)(f.Z,{}),style:{flexGrow:1},children:(0,m.jsx)(c.rU,{to:"/admin/password",children:"password"})},"/admin/password")]})})}},1615:function(t,e,n){n.r(e);var r=n(4942),o=n(1413),a=n(9439),c=n(2791),i=n(6960),s=n(7876),u=n(7027),l=n(9389),p=n(7309),d=(n(4088),n(231)),h=n(9434),f=n(2066),m=n(2887),x=n(7689),Z=n(184),g=s.Z.Option;e.default=function(){var t=(0,x.UO)().slug,e=(0,h.v9)((function(t){return t.user.userid})),n=(0,c.useState)(!1),v=(0,a.Z)(n,2),y=v[0],j=v[1],b=(0,c.useState)([]),w=(0,a.Z)(b,2),k=w[0],S=w[1];(0,c.useEffect)((function(){(0,d.CP)().then((function(t){return L((0,o.Z)((0,o.Z)({},T),{},{categories:t.data}))})),(0,m.wv)(t).then((function(t){L((function(e){return(0,o.Z)((0,o.Z)({},e),t.data)}));var e=[];t.data.subs.map((function(t){e.push(t.name)})),S(e)})).catch((function(t){console.error(t)}))}),[]);var C=(0,c.useState)([]),B=(0,a.Z)(C,2),F=B[0],G=B[1],U=(0,c.useState)(!1),I=(0,a.Z)(U,2),P=I[0],q=I[1],E=(0,c.useState)({title:"",description:"",price:"",categories:[],category:"",subs:[],shipping:"",quantity:"",images:[],colors:["Black","Brown","Silver","White","Blue"],brands:["Apple","Samsung","Microsoft","ASUS","Lenovo"],color:"",brand:""}),D=(0,a.Z)(E,2),T=D[0],L=D[1],N=T.title,z=T.description,O=T.price,Y=(T.category,T.quantity),_=T.colors,A=T.brands,M=(T.images,T.categories),V=T.subs,J=function(t){var e=t.target,n=e.name,a=e.value;L((0,o.Z)((0,o.Z)({},T),{},(0,r.Z)({},n,a)))},Q=function(t,e){L((function(n){return(0,o.Z)((0,o.Z)({},n),{},(0,r.Z)({},t,e))}))};return console.log("subs",V),(0,Z.jsxs)("div",{style:{display:"flex",height:"90vh",overflowY:"auto"},children:[(0,Z.jsx)("div",{style:{position:"sticky",top:0,zIndex:1},children:(0,Z.jsx)(i.Z,{})}),JSON.stringify(T.shipping),(0,Z.jsxs)("div",{style:{flex:1,padding:"2rem"},children:[y?(0,Z.jsx)("h2",{style:{marginBottom:"2rem"},children:"loading..."}):(0,Z.jsx)("h2",{style:{marginBottom:"2rem"},children:"Product Update"}),(0,Z.jsxs)("form",{onSubmit:function(n){n.preventDefault(),j(!0),(0,m.nM)(t,T,e.idtoken).then((function(t){u.ZP.success("Product updated"),j(!1)})).catch((function(t){j(!1),u.ZP.error("Failed ".concat(t.response.data.err))}))},children:[(0,Z.jsxs)("div",{children:[(0,Z.jsx)("label",{htmlFor:"title",children:"Title:"}),(0,Z.jsx)(l.Z,{type:"text",id:"title",placeholder:"Title",name:"title",value:N,required:!0,onChange:J,style:{marginBottom:"1.5rem"}})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("label",{htmlFor:"description",children:"Description:"}),(0,Z.jsx)(l.Z.TextArea,{id:"description",placeholder:"Description",name:"description",value:z,required:!0,onChange:J,style:{marginBottom:"1.5rem"}})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("label",{htmlFor:"price",children:"Price:"}),(0,Z.jsx)(l.Z,{type:"number",id:"price",placeholder:"Price",name:"price",value:O,onChange:J,required:!0,style:{marginBottom:"1.5rem"}})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("label",{htmlFor:"shipping",children:"Shipping:"}),(0,Z.jsxs)(s.Z,{placeholder:"Select shipping",id:"shipping",name:"shipping",style:{marginBottom:"1.5rem",width:"100%"},value:T.shipping,onChange:function(t){return Q("shipping",t)},children:[(0,Z.jsx)(g,{value:"No",children:"No"}),(0,Z.jsx)(g,{value:"Yes",children:"Yes"})]})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("label",{htmlFor:"quantity",children:"Quantity:"}),(0,Z.jsx)(l.Z,{type:"number",id:"quantity",placeholder:"Quantity",name:"quantity",required:!0,value:Y,onChange:J,style:{marginBottom:"1.5rem"}})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("label",{htmlFor:"color",children:"Color:"}),(0,Z.jsx)(s.Z,{placeholder:"Select color",id:"color",name:"color",style:{marginBottom:"1.5rem",width:"100%"},value:T.color,onChange:function(t){return Q("color",t)},dropdownStyle:{color:"#000000"},children:_.map((function(t){return(0,Z.jsx)(g,{value:t,children:t},t)}))})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("label",{htmlFor:"brand",children:"Brand:"}),(0,Z.jsx)(s.Z,{placeholder:"Select brand",id:"brand",name:"brand",style:{marginBottom:"1.5rem",width:"100%"},value:T.brand,onChange:function(t){return Q("brand",t)},dropdownStyle:{color:"#000000"},children:A.map((function(t){return(0,Z.jsx)(g,{value:t,children:t},t)}))})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("label",{htmlFor:"category",children:"Category:"}),(0,Z.jsx)(s.Z,{style:{marginBottom:"1.5rem",width:"100%"},placeholder:"Select category",id:"category",value:T.category.name,onChange:function(t){return function(t){L((function(e){return(0,o.Z)((0,o.Z)({},e),{},{category:t,subs:[]})})),(0,d.Gu)(t).then((function(t){G(t.data),q(t.data.length>0)})).catch((function(t){console.error("Error fetching subcategories:",t)}))}(t)},dropdownStyle:{color:"#000000"},children:M.map((function(t){return(0,Z.jsx)(g,{value:t._id,children:t.name},t._id)}))})]}),P&&(0,Z.jsxs)("div",{children:[(0,Z.jsx)("label",{htmlFor:"subcategory",children:"Sub-category:"}),(0,Z.jsx)(s.Z,{style:{marginBottom:"1.5rem",width:"100%"},placeholder:"Select sub-category",mode:"multiple",id:"subcategory",defaultValue:k,value:V,onChange:function(t){return L((0,o.Z)((0,o.Z)({},T),{},{subs:t}))},dropdownStyle:{color:"#000000"},children:F.map((function(t){return(0,Z.jsx)(g,{value:t._id,children:t.name},t._id)}))})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("label",{htmlFor:"images",children:"Images:"}),(0,Z.jsx)(f.Z,{setLoading:j,onFileUpload:function(t){L((function(e){return(0,o.Z)((0,o.Z)({},e),{},{images:t})}))},setValues:L,values:T})]}),(0,Z.jsx)("div",{style:{position:"sticky",bottom:0,zIndex:1},children:(0,Z.jsx)(p.ZP,{type:"primary",htmlType:"submit",style:{width:"100%"},children:"update & save"})})]})]})]})}}}]);
//# sourceMappingURL=615.3017b566.chunk.js.map