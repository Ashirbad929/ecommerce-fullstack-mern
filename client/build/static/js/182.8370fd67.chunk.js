"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[182],{3347:function(t,e,n){n.d(e,{Gt:function(){return l},PU:function(){return o},cy:function(){return s},kL:function(){return u},m$:function(){return i}});var r=n(4165),c=n(5861),a=n(1243),u=function(){var t=(0,c.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.get("".concat("http://localhost:4000/api","/subs"),{headers:{}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(){var t=(0,c.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.get("".concat("http://localhost:4000/api","/sub/").concat(e),{headers:{}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=(0,c.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.delete("".concat("http://localhost:4000/api","/sub/").concat(e),{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),i=function(){var t=(0,c.Z)((0,r.Z)().mark((function t(e,n,c){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.put("".concat("http://localhost:4000/api","/sub/").concat(e),n,{headers:{authtoken:c}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),l=function(){var t=(0,c.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.post("".concat("http://localhost:4000/api","/sub"),e,{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},4967:function(t,e,n){n.d(e,{Z:function(){return w}});var r=n(9439),c=n(1413),a=n(2791),u=n(6473),s=n(4951),o=n(7027),i=n(183),l=n(4215),f=n(6533),p=n(7689),d=n(1087),h=n(763),Z=n.n(h),x=n(6137),g=n(9434),m=n(3936),v=n(184),b=u.Z.Meta,j=s.Z.Text,w=function(t){var e=t.product,n=t.loading,s=(0,g.I0)(),h=((0,p.s0)(),e.title),w=e.description,k=e.images,y=e.slug,S=e.price,N=k&&k.length?k[0][0].url:"",I=(0,a.useState)(!0),P=(0,r.Z)(I,2),q=P[0],C=P[1];return(0,a.useEffect)((function(){var t=setTimeout((function(){C(!1)}),800);return function(){return clearTimeout(t)}}),[n]),(0,v.jsxs)(u.Z,{hoverable:!0,loading:n||q,cover:n||q?(0,v.jsx)(i.Z.Image,{style:{width:"100%",height:"auto",paddingBottom:"60%"}}):(0,v.jsx)("img",{src:N,alt:h}),actions:[(0,v.jsxs)(d.rU,{to:"/product/".concat(y),children:[(0,v.jsx)(l.Z,{})," ",(0,v.jsx)("br",{})," view"]}),(0,v.jsxs)("a",{onClick:function(){var t=[];if("undefined"!==typeof window){localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.push((0,c.Z)((0,c.Z)({},e),{},{count:1}));var n=Z().uniqWith(t,Z().isEqual);console.log("unique",n),localStorage.setItem("cart",JSON.stringify(n)),s((0,x.P)(t)),s((0,m.F)(!0))}o.ZP.info("Added to cart")},children:[(0,v.jsx)(f.Z,{})," ",(0,v.jsx)("br",{}),"Add to cart"]})],className:"product-card",children:[(0,v.jsx)(b,{title:h,description:"".concat(w&&w.substring(0,35),"...")}),(0,v.jsx)(b,{title:(0,v.jsxs)(j,{style:{color:"#008080"},children:["\u20b9",S]})})]})}},3182:function(t,e,n){n.r(e);var r=n(9439),c=n(2791),a=n(7689),u=n(3347),s=n(7027),o=(n(5306),n(4967)),i=n(184);e.default=function(){var t=(0,c.useState)({}),e=(0,r.Z)(t,2),n=e[0],l=e[1],f=(0,c.useState)([]),p=(0,r.Z)(f,2),d=p[0],h=p[1],Z=(0,c.useState)(!1),x=(0,r.Z)(Z,2),g=x[0],m=x[1],v=(0,a.UO)().slug;return(0,c.useEffect)((function(){m(!0),(0,u.cy)(v).then((function(t){l(t.data.sub),h(t.data.products),m(!1)})).catch((function(t){s.ZP.error("backend error")}))}),[]),(0,i.jsxs)("div",{className:"category-items",children:[g?(0,i.jsx)("h4",{children:"loading..."}):(0,i.jsxs)("h4",{className:"category-items-header",children:[" fetched ",d.length,'  items from  "',n.name,'" sub category']}),(0,i.jsx)("div",{className:"products",children:d.map((function(t){return(0,i.jsx)(o.Z,{product:t},t._id)}))})]})}},5306:function(){}}]);
//# sourceMappingURL=182.8370fd67.chunk.js.map